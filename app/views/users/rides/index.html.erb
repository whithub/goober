<h1>User Rides Dashboard! </h1>

<% if current_user.rides.all? { |each_ride| each_ride.complete? } %>
  <%= link_to "Request A Ride", new_users_ride_path %>
<% end %>


<%= link_to 'Sign out (as rider)', destroy_user_session_path, :method => :delete %>


<h3>Rides: <%= current_user.rides.count %></h3>


<% if @current_ride.present? && @current_ride.status != 'complete' %>
  <h3>Pick Up Location: <%= @current_ride.pick_up_location.capitalize %></h3>
  <h3>Drop Off Location: <%= @current_ride.drop_off_location.capitalize %></h3>
  <h3>Passengers: <%= @current_ride.num_of_passengers %></h3>
  <% if @current_ride.admin.present? %>
    <h3>Driver: <%= @current_ride.admin.name.capitalize %></h3>
  <% end %>
  <h3>Time Ride Was Requested At: <%= @current_ride.created_at.strftime('%l:%M %P') %></h3>
  <br>
  <h3>Accepted At: <%= @current_ride.accepted_time %></h3><br>

  <h3>Picked Up At: <%= @current_ride.pickup_time %></h3><br>
  
  <!--<h3>Dropped Off At: <%#= @current_ride.dropoff_time %></h3><br>-->
<% end %>

<h2> Completed Rides: <%= @completed_rides.count %></h2>
  <% @completed_rides.each do |ride| %>
    <%= ride.user.name.capitalize %>
    <%= ride.admin.name.capitalize %>
    <%= ride.pick_up_location.capitalize %>
    <%= ride.drop_off_location.capitalize %>
    <%= ride.created_at.strftime('%l:%M %P') %>
    <%= ride.accepted_time %>
    <%= ride.pickup_time %>
    <%= ride.dropoff_time %>
    <%#= ride.cost %>
  <% end %>
